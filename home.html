<!DOCTYPE html>
<html lang="hu">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:image" content="./assets/opengarph/opengraph-small.png">
    <title>TTT Cast - DEMO</title>
    <link rel="shortcut icon" href="assets/logos/ttt.svg" type="image/x-icon">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./styles/home.css">
    <link rel="stylesheet" href="./assets/loading.css">
</head>

<body>
    <div class="loading"><img src="./assets/logos/worship.svg" alt=""></div>
    <div style="display: none;" class="popupwindow blur-background">
        <div class="container">
            <div class="window">
                <h1>Mit szeretnél elindítani?</h1>
                <section class="content">
                    <div class="horizontal-list">
                        <div class="title">
                            <h2>Események</h2>
                            <!-- <button class="sort small-button">
                                <img src="./assets/icons/sort.svg" alt="sort">
                            </button> -->
                        </div>
                        <div class="items esemenyek cast">
                            <!-- AZ ESEMÉNYEK HELYE -->
                        </div>
                    </div>
                    <div class="horizontal-list">
                        <div class="title">
                            <h2>Kották</h2>
                            <!-- <button class="sort small-button">
                                <img src="./assets/icons/sort.svg" alt="sort">
                            </button> -->
                        </div>
                        <div class="items kottak cast">
                            <!-- A KOTTÁK HELYE -->
                        </div>
                    </div>
                </section>
            </div>
            <button id="button_close">
                <img src="./assets/icons/close.svg" alt="">
            </button>
        </div>
    </div>
    <header>
        <div id="leftside">
            <div>
                <button id="navigation" class="small-button">
                    <img src="./assets/icons/menu.svg" alt="menu">
                </button>
            </div>
            <div id="logo">
                <img src="./assets/logos/ttt.svg" alt="TTTlogo">
                <h1 inert>Cast</h1>
                <div>demo</div>
            </div>
        </div>
        <div id="rightside">
            <!-- <div id="search">
                <div class="icon-placeholder">
                    <img src="./assets/icons/search.svg" alt="search">
                </div>
                <input type="search" placeholder="Keresés">
            </div> -->
            <div class="small-buttons">
                <!-- <button class="small-button">
                    <img src="./assets/icons/devices.svg" alt="devices">
                </button> -->
                <!-- <button class="small-button">
                    <img src="./assets/icons/settings.svg" alt="settings">
                </button> -->
                <!-- <button class="small-button">
                    <img src="./assets/icons/notifications.svg" alt="notifications">
                </button> -->
                <p style="margin: auto; font-size: 18px;">A weboldal leírásáért kattintson ide:</p>
                <a href="help.pdf" target="_blank">
                    <button class="small-button" id="help">
                        <img src="./assets/icons/nav/sugo.svg" alt="help">
                    </button>
                </a>
                <a href="cast-sheet.html" target="_blank">
                    <button class="small-button" id="device">
                        <img src="./assets/icons/devices.svg" alt="kotta">
                    </button>
                </a>
            </div>
            <button id="esemeny-inditasa" class="main-button big-button">
                Esemény indítása
            </button>
        </div>
    </header>
    <div id="header-placeholder"></div>
    <main>
        <nav>
            <div id="pages">
                <button id="kezdolap-button">
                    <div class="kezdolap selected">
                        <img src="./assets/icons/nav/kezdolap.svg" alt="kezdolap">
                        <h2>Kezdőlap</h2>
                    </div>
                </button>
                <button id="dalok-button">
                    <div class="dalok">
                        <img src="./assets/icons/nav/dalok.svg" alt="dalok">
                        <h2>Kották</h2>
                    </div>
                </button>
                <!-- <button id="esemenyek-button">
                    <div class="esemenyek">
                        <img src="./assets/icons/nav/esemenyek.svg" alt="esemenyek">
                        <h2>Események</h2>
                    </div>
                </button> -->
                <!-- <button id="kuka-button">
                    <div class="kuka">
                        <img src="./assets/icons/nav/kuka.svg" alt="kuka">
                        <h2>Kuka</h2>
                    </div>
                </button> -->
                <!-- <button id="beallitasok-button">
                    <div class="beallitasok">
                        <img src="./assets/icons/nav/beallitasok.svg" alt="beallitasok">
                        <h2>Beállítások</h2>
                    </div>
                </button> -->
            </div>
        </nav>
        <section class="page" id="kezdolap">
            <section class="main-title">
                <!-- <div class="buttons">
                    <div class="container-button">
                        <button id="uj-esemeny" class="big-button">
                            Új esemény
                        </button>
                    </div>
                    <div class="container-button">
                        <button id="uj-dal" class="big-button">
                            Új dal
                        </button>
                    </div>
                </div> -->
                <h1>Hello!</h1>
                <!-- <div id="napi-igek">
                    <h2>Napi igék</h2>
                    <div id="container-igek">
                        <div id="ige1">
                            <p class="igevers">„Isten ruház föl engem erővel, ő teszi tökéletessé utamat.”</p>
                            <p class="igehely">Zsolt 18:33</p>
                        </div>
                        <div id="ige2">
                            <p class="igevers">„Isten “erőtlensége” erősebb az emberek erejénél.”</p>
                            <p class="igehely">1Kor 1:25b</p>
                        </div>
                    </div>
                </div> -->
            </section>
            <section class="content">
                <div class="vertical-list">
                    <div class="title">
                        <h2>Legutóbbi események</h2>
                        <!-- <button class="sort small-button">
                            <img src="./assets/icons/sort.svg" alt="sort">
                        </button> -->
                    </div>
                    <div class="items esemenyek">
                        <!-- AZ ESEMÉNYEK HELYE -->
                    </div>
                </div>
                <div class="horizontal-list">
                    <div class="title">
                        <h2>Legújabb kották</h2>
                        <!-- <button class="sort small-button">
                            <img src="./assets/icons/sort.svg" alt="sort">
                        </button> -->
                    </div>
                    <div class="items kottak">
                        <!-- A KOTTÁK HELYE -->
                    </div>
                </div>
            </section>
        </section>
        <section class="page other" id="dalok" style="display: none;">
            <section class="page-title">
                <h1>Dalok</h1>
                <!-- <div class="buttons">
                    <div class="container-button">
                        <button id="uj-esemeny" class="big-button">
                            Új esemény
                        </button>
                    </div>
                    <div class="container-button">
                        <button id="uj-dal" class="big-button">
                            Új dal
                        </button>
                    </div> -->
                </div>
            </section>
            <section class="content">
                <div class="vertical-list">
                    <div class="title">
                        <h2>Legújabb kották</h2>
                        <!-- <button class="sort small-button">
                            <img src="./assets/icons/sort.svg" alt="sort">
                        </button> -->
                    </div>
                    <div class="items kottak">
                        <!-- A KOTTÁK HELYE -->
                    </div>
                </div>
                <div class="horizontal-list">
                    <div class="title">
                        <h2>Összes kotta</h2>
                        <!-- <button class="sort small-button">
                            <img src="./assets/icons/sort.svg" alt="sort">
                        </button> -->
                    </div>
                    <div class="items kottak">
                        <!-- A KOTTÁK HELYE -->
                    </div>
                </div>
            </section>
        </section>
        <!-- <section class="page other" id="esemenyek" style="display: none;">
            <section class="page-title">
                <h1>Események</h1>
                <div class="buttons">
                    <div class="container-button">
                        <button id="uj-esemeny" class="big-button">
                            Új esemény
                        </button>
                    </div>
                    <div class="container-button">
                        <button id="uj-dal" class="big-button">
                            Új dal
                        </button>
                    </div>
                </div>
            </section>
            <section class="content">
                <div class="vertical-list">
                    <div class="title">
                        <h2>Legututóbbi események</h2>
                        <button class="sort small-button">
                            <img src="./assets/icons/sort.svg" alt="sort">
                        </button>
                    </div>
                    <div class="items">
                    </div>
                </div>
                <div class="horizontal-list">
                    <div class="title">
                        <h2>Összes esemény</h2>
                        <button class="sort small-button">
                            <img src="./assets/icons/sort.svg" alt="sort">
                        </button>
                    </div>
                    <div class="items">
                    </div>
                </div>
            </section>
        </section> -->
    </main>

    <script src="./events.js"></script>
    <script src="./styles/buttonclickstyle.js"></script>
    <script>
        for (let button of document.getElementsByClassName("big-button")) {
            button.addEventListener("click", buttonClickStyle(button))
        }
    </script>
    <script src="./scripts/esemeny_inditasa.js"></script>
    <script src="./scripts/SheetReader.js"></script>
    <script>
        const navbutton = document.getElementById("navigation");
        const pages = document.getElementsByClassName("page");
        const nav = document.getElementsByTagName("nav")[0];
        let opened;
        if (window.innerWidth > 480) { opened = true }
        else { false }
        navbutton.addEventListener("click", () => {
            if (opened) {
                // nav.style.display = "none";
                nav.style.animation = 'navclose 0.2s ease forwards'
                for (let page of pages) { page.style.animation = 'pageclose 0.2s ease forwards' }
                opened = false
                if (window.innerWidth > 480) { resizegrid(260) }
            }
            else {
                // nav.removeAttribute('style');
                nav.style.animation = 'navopen 0.2s ease forwards'
                for (let page of pages) { page.style.animation = 'pageopen 0.2s ease forwards' };
                opened = true
                if (window.innerWidth > 480) { resizegrid(-260) }
            }
        })
        /*TÖKÉLETESÍTÉSRE VÁR!!!*/
        for (let button of document.getElementById('pages').children) {
            button.addEventListener('click', () => {
                let div_from = document.getElementsByClassName('selected')[0];
                let div_to = button.children[0];
                let page_from = document.getElementById(div_from.className.slice(0, div_from.className.indexOf(' ')));
                let page_to = document.getElementById(button.id.slice(0, button.id.indexOf('-')));
                page_from.style.display = 'none';
                page_to.removeAttribute('style');
                div_from.classList.remove('selected');
                div_to.classList.add('selected');
            })
        }
    </script>
    <script src="./dalok.js"></script>
    <script>
        let kottatar = [];
        async function dalreader() {
            for (let dal of dalok) {
                song = await sheetreader(dal)
                kottatar.push(song)
            }
        }
        function construct() {
            let kottak_items = document.getElementsByClassName('kottak')
            for (let items of kottak_items) {
                for (let dal of kottatar) {

                    let a = document.createElement('a');
                    if (items.classList[2] == ('cast')) { a.href = `./cast-main.html?song=${dal.adatok.filename}` }
                    else { a.href = `./sheet.html?song=${dal.adatok.filename}` }

                    let kotta = document.createElement("div");
                    kotta.className = 'kotta';

                    let img_placeholder = document.createElement("div");
                    img_placeholder.className = 'img-placeholder';

                    let detail_container = document.createElement("div");
                    detail_container.className = 'detail-container';

                    let details = document.createElement("div");
                    details.className = 'details';

                    let h3 = document.createElement("h3");
                    h3.innerText = dal.adatok.cim;

                    let h4 = document.createElement("h4");
                    h4.innerText = `${dal.adatok.key} | ${dal.adatok.bpm} | ${dal.adatok.time_signature}`;

                    // let options = document.createElement("button");
                    // options.className = "options small-button";

                    // let img = document.createElement("img");
                    // img.src = "./assets/icons/options.svg";
                    // img.alt = 'options';

                    let uj = document.createElement("div");
                    uj.innerText = 'Új';
                    uj.className = "new";

                    // options.appendChild(img);
                    details.appendChild(h3);
                    details.appendChild(h4);
                    detail_container.appendChild(details);
                    //detail_container.appendChild(options)
                    if (dal.adatok.new) { img_placeholder.appendChild(uj) };
                    kotta.appendChild(img_placeholder);
                    kotta.appendChild(detail_container)
                    a.appendChild(kotta)
                    items.appendChild(a)
                }
            }
        }
        dalreader().then(() =>
            construct())
    </script>
    <script src="./styles/grid.js"></script>
    <script src="./styles/navstyle.js"></script>
    <script>
        console.log(events)
        let esemenyek_items = document.getElementsByClassName('esemenyek')
        for (let items of esemenyek_items) {
            for (let event of Object.keys(events)) {

                let a = document.createElement('a');
                a.href = `./cast-main.html?event=${event}`

                let kotta = document.createElement("div");
                kotta.className = 'esemeny';

                let img_placeholder = document.createElement("div");
                img_placeholder.className = 'img-placeholder';

                let detail_container = document.createElement("div");
                detail_container.className = 'detail-container';

                let details = document.createElement("div");
                details.className = 'details';

                let h3 = document.createElement("h3");
                h3.innerText = events[event].title;

                let h4 = document.createElement("h4");
                h4.innerText = events[event].date;

                // let options = document.createElement("button");
                // options.className = "options small-button";

                // let img = document.createElement("img");
                // img.src = "./assets/icons/options.svg";
                // img.alt = 'options';

                let uj = document.createElement("div");
                uj.innerText = 'Új';
                uj.className = "new";

                // options.appendChild(img);
                details.appendChild(h3);
                details.appendChild(h4)
                detail_container.appendChild(details);
                //detail_container.appendChild(options);
                if (events[event].new) { img_placeholder.appendChild(uj) };
                kotta.appendChild(img_placeholder);
                kotta.appendChild(detail_container)
                a.appendChild(kotta)
                items.appendChild(a)
            }
        }
    </script>
</body>

</html>